!function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.matchesSelector=i()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],r=n+"MatchesSelector";if(t[r])return r}}();return function(e,i){return e[t](i)}})},{}],2:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.EvEmitter=i()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,r=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];r;){var a=o&&o[r];a&&(this.off(t,r),delete o[r]),r.apply(this,e),n+=a?0:1,r=i[n]}return this}},t})},{}],3:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["desandro-matches-selector/matches-selector"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.matchesSelector)}(window,function(t,e){"use strict";var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void r.push(t);e(t,n)&&r.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)r.push(i[o])}}),r},i.debounceMethod=function(t,e,i){var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];t&&clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){n.apply(o,e),delete o[r]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,r){i.docReady(function(){var o=i.toDashed(r),a="data-"+o,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),u=i.makeArray(s).concat(i.makeArray(l)),c=a+"-options",d=t.jQuery;u.forEach(function(t){var i,o=t.getAttribute(a)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(s){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+s))}var l=new e(t,i);d&&d.data(t,r,l)})})},i})},{"desandro-matches-selector":1}],4:[function(t,e,i){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(function(){return i()}):"object"==typeof e&&e.exports?e.exports=i():t.getSize=i()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=l[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function r(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var r=n(e);o.isBoxSizeOuter=a=200==t(r.width),i.removeChild(e)}}function o(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var c=s.isBorderBox="border-box"==o.boxSizing,d=0;u>d;d++){var p=l[d],h=o[p],f=parseFloat(h);s[p]=isNaN(f)?0:f}var g=s.paddingLeft+s.paddingRight,m=s.paddingTop+s.paddingBottom,y=s.marginLeft+s.marginRight,v=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,w=s.borderTopWidth+s.borderBottomWidth,T=c&&a,I=t(o.width);I!==!1&&(s.width=I+(T?0:g+b));var E=t(o.height);return E!==!1&&(s.height=E+(T?0:m+w)),s.innerWidth=s.width-(g+b),s.innerHeight=s.height-(m+w),s.outerWidth=s.width+y,s.outerHeight=s.height+v,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=l.length,c=!1;return o})},{}],5:[function(t,e,i){!function(i,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("ev-emitter")):i.imagesLoaded=n(i,i.EvEmitter)}(window,function(t,e){"use strict";function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,o){return this instanceof r?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new r(t,e,o)}function o(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var s=t.jQuery,l=t.console;r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var r=i[n];this.addImage(r)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var a=o[n];this.addElementBackgroundImages(a)}}}};var u={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var r=n&&n[2];r&&this.addBackground(r,t),n=i.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new a(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(o.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(s=e,s.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(s(this))})},r.makeJQueryPlugin(),r})},{"ev-emitter":2}],6:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],n):"object"==typeof e&&e.exports?e.exports=n(t("outlayer"),t("get-size")):i.Masonry=n(i.Outlayer,i.getSize)}(window,function(t,e){"use strict";var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/n,a=n-r%n,s=a&&1>a?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),o=Math.min.apply(Math,r),a=r.indexOf(o),s={x:this.columnWidth*a,y:o},l=o+t.size.outerHeight,u=this.cols+1-r.length,c=0;u>c;c++)this.colYs[a+c]=l;return s},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var r=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,r)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),r=this._getOption("originLeft"),o=r?n.left:n.right,a=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var u=this._getOption("originTop"),c=(u?n.top:n.bottom)+i.outerHeight,d=s;l>=d;d++)this.colYs[d]=Math.max(c,this.colYs[d])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i})},{"get-size":4,outlayer:8}],7:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size"],n):"object"==typeof e&&e.exports?e.exports=n(t("ev-emitter"),t("get-size")):(i.Outlayer={},i.Outlayer.Item=n(i.EvEmitter,i.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var o=document.documentElement.style,a="string"==typeof o.transition?"transition":"WebkitTransition",s="string"==typeof o.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],u={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},c=n.prototype=Object.create(t.prototype);c.constructor=n,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var i in t){var n=u[i]||i;e[n]=t[i]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],r=t[i?"top":"bottom"],o=this.layout.size,a=-1!=n.indexOf("%")?parseFloat(n)/100*o.width:parseInt(n,10),s=-1!=r.indexOf("%")?parseFloat(r)/100*o.height:parseInt(r,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=e?o.paddingLeft:o.paddingRight,s-=i?o.paddingTop:o.paddingBottom,this.position.x=a,this.position.y=s},c.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=i?"paddingLeft":"paddingRight",o=i?"left":"right",a=i?"right":"left",s=this.position.x+t[r];e[o]=this.getXValue(s),e[a]="";var l=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",c=n?"bottom":"top",d=this.position.y+t[l];e[u]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,r=parseInt(t,10),o=parseInt(e,10),a=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,l=e-n,u={};u.transform=this.getTranslate(s,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d="opacity,"+r(s);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var p={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=p[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var r=e.onEnd[n];r.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(h)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n})},{"ev-emitter":2,"get-size":4}],8:[function(t,e,i){!function(i,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,r,o){return n(i,t,e,r,o)}):"object"==typeof e&&e.exports?e.exports=n(i,t("ev-emitter"),t("get-size"),t("fizzy-ui-utils"),t("./item")):i.Outlayer=n(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)}(window,function(t,e,i,n,r){"use strict";function o(t,e){var i=n.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var r=++d;this.element.outlayerGUID=r,p[r]=this,this._create();var o=this._getOption("initLayout");o&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var r=f[n]||1;return i*r}var l=t.console,u=t.jQuery,c=function(){},d=0,p={};o.namespace="outlayer",o.Item=r,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=o.prototype;n.extend(h,e.prototype),h.option=function(t){n.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],r=0;r<e.length;r++){var o=e[r],a=new i(o,this);n.push(a)}return n},h._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(t){return t.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=i(this.element)},h._getMeasurement=function(t,e){var n,r=this.options[t];r?("string"==typeof r?n=this.element.querySelector(r):r instanceof HTMLElement&&(n=r),this[t]=n?i(n)[e]:r):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},h._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},h.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},h._positionItem=function(t,e,i,n,r){n?t.goTo(e,i):(t.stagger(r*this.stagger),t.moveTo(e,i))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},h._getContainerSize=c,h._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},h._emitCompleteOnItems=function(t,e){function i(){r.dispatchEvent(t+"Complete",null,[e])}function n(){a++,a==o&&i()}var r=this,o=e.length;if(!e||!o)return void i();var a=0;e.forEach(function(e){e.once(t,n)})},h.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var r=u.Event(e);r.type=t,this.$element.trigger(r,i)}else this.$element.trigger(t,i)},h.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},h.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},h.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},h._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=c,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,r=i(t),o={left:e.left-n.left-r.marginLeft,top:e.top-n.top-r.marginTop,right:n.right-e.right-r.marginRight,bottom:n.bottom-e.bottom-r.marginBottom};return o},h.handleEvent=n.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},n.debounceMethod(o,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},h.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},h.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},h.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},h.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},h.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},h.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},h.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},h.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},h.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete p[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},o.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&p[e]},o.create=function(t,e){var i=a(o);return i.defaults=n.extend({},o.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},o.compatOptions),i.namespace=t,i.data=o.data,i.Item=a(r),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var f={ms:1,s:1e3};return o.Item=r,o})},{"./item":7,"ev-emitter":2,"fizzy-ui-utils":3,"get-size":4}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CSS_PATH=i.API_VERSION=i.API_URI=i.PHOTO_BOX_URI=i.GALLERY_URI=void 0;var n=t("./host"),r=(i.GALLERY_URI=n.HOST+"/gallery/displayGallery/",i.PHOTO_BOX_URI=n.HOST+"/showcase/photoBox/",i.API_URI=n.HOST+"/api/",i.API_VERSION=3);i.CSS_PATH="localhost"===n.CSS_HOST?"/css/":n.CSS_HOST+"/v"+r+"/css/"},{"./host":10}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.HOST="https://www.tagtray.com",i.CDN_HOST="https://api.tagtray.com",i.CSS_HOST="https://api.tagtray.com"},{}],11:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Gallery=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("./photo.class"),s=t("./tag-tray.class"),l=t("./lightbox.class"),u=t("./html.class"),c=t("../config");i.Gallery=function(){function e(t){n(this,e),this.$gallery=jQuery(t);var i={pageSize:30,productId:0,currentPage:0,galleryType:"active",maxNumPages:0,loadMoreText:"Load More",overlayType:"message",overlayTagline:"Shop The Style",hideSourceIcon:!1,iconFacebookUrl:"//api.tagtray.com/v3/images/img-icons/facebook-tiny.png",iconInstagramUrl:"//api.tagtray.com/v3/images/img-icons/instagram-tiny.png",iconUploadUrl:"//api.tagtray.com/v3/images/img-icons/s3-tiny.png",iconTwitterUrl:"//api.tagtray.com/v3/images/img-icons/twitter-tiny.png",iconVideoUrl:"//api.tagtray.com/v3/images/img-icons/video-tiny.png",carouselSlideWidth:200,carouselSlideMargin:10,carouselMinSlides:2,carouselMaxSlides:6,fpUploadType:"none",fpUploadMessage:"Submit your own photo to our gallery",fpSuccessMessage:"Your photo upload was successful.",fpSuccessMessageClass:"alert alert-success",fpUploadButtonClass:"btn btn-primary",fpButtonText:"Select Photo...",fpServices:"COMPUTER,WEBCAM,INSTAGRAM,FACEBOOK,URL,DROPBOX,GOOGLE_DRIVE"};r(this,i,this.$gallery.data()),this.api=new s.TagTray(this),this.insertStylesheet(),"carousel"===this.galleryType&&(this.maxNumPages=1,this.insertSliderStylesheet()),"simple"!==this.fpUploadType&&"collect-info"!==this.fpUploadType||this.insertFilestack(),this.insertGalleryDom(),this.$gallery.trigger("show.tt.gallery")}return o(e,[{key:"insertStylesheet",value:function(){jQuery("head").append(u.HTML.stylesheet(c.CSS_PATH,"tagtray.css"))}},{key:"insertSliderStylesheet",value:function(){jQuery("head").append(u.HTML.stylesheet(c.CSS_PATH,"tagtray-carousel.css"))}},{key:"insertGalleryDom",value:function(){var t=this;this.$galleryItems=u.HTML.galleryItemsDiv(this.galleryCode),this.$gallery.append(this.$galleryItems),"active"===this.galleryType&&(this.$galleryItems.append(u.HTML.masonrySizer("grid")),this.$galleryItems.append(u.HTML.masonrySizer("gutter"))),this.$loadMore=u.HTML.loadMoreDiv(this.loadMoreText),this.$loadMore.click(function(){t.$gallery.trigger("flip.tt.page"),t.requestPage(++t.currentPage)}),this.$gallery.after(this.$loadMore.hide())}},{key:"requestPage",value:function(t){this.api.requestPhotos(t)}},{key:"renderPage",value:function(t){this.insertPhotos(t.data),0===this.currentPage&&this.onGalleryLoaded(t.data.length);var e=this.maxNumPages>0?Math.min(this.maxNumPages,t.total_pages):t.total_pages;this.currentPage+1===e&&this.$loadMore.remove(),"active"===this.galleryType?this.initMasonry():"carousel"===this.galleryType?this.initSlider():this.imagesLoadedDone(),l.Lightbox.init(this.$galleryItems),this.$loadMore.show()}},{key:"insertPhotos",value:function(t){var e=this;t.forEach(function(t){t.galleryCode=e.galleryCode,t.siteLogo=e.getSiteLogo(t.site_id),t.videoLogo=e.iconVideoUrl,t.maxHeight="carousel"===e.galleryType?e.carouselSlideWidth:0,e.$galleryItems.append(new a.Photo(t).render({hideSourceIcon:e.hideSourceIcon,overlayType:e.overlayType,overlayTagline:e.overlayTagline}))})}},{key:"insertFilestack",value:function(){if(void 0===window.filepicker)throw new Error("TagTray could not locate the Filestack library to enable file uploading.");var t=u.HTML.fileUploader(this);this.$gallery.append(t);var e=t.find("#tagtray-filepicker")[0];e.type="filepicker",e.onchange=window.TagTrayCore.inkFileUploaded,window.filepicker.constructWidget(e)}},{key:"onGalleryLoaded",value:function(t){this.$gallery.trigger("shown.tt.gallery",[t]);var e=this.getParameterByName("ttPhotoboxUrl");
  null!==e&&l.Lightbox.open(e)}},{key:"initMasonry",value:function(){var e=this,i=t("imagesloaded"),n=t("masonry-layout");this.masonry=new n("#tagtray-gallery-items-"+this.galleryCode,{columnWidth:".tagtray-grid-sizer",gutter:".tagtray-gutter-sizer",itemSelector:".tagtray-gallery-item",percentPosition:!0});var r=i("#tagtray-gallery-items-"+this.galleryCode);r.on("progress",function(){e.masonry.layout()}),r.on("done",function(){e.imagesLoadedDone()})}},{key:"initSlider",value:function(){jQuery("#tagtray-gallery-items-"+this.galleryCode).ttbxSlider({minSlides:this.carouselMinSlides,maxSlides:this.carouselMaxSlides,slideWidth:this.carouselSlideWidth,slideMargin:this.carouselSlideMargin}),this.imagesLoadedDone()}},{key:"getSiteLogo",value:function(t){var e=[];return e[1]=this.iconFacebookUrl,e[2]=this.iconInstagramUrl,e[4]=this.iconUploadUrl,e[5]=this.iconTwitterUrl,e[t]}},{key:"imagesLoadedDone",value:function(){jQuery(".tagtray-social-icon-overlay").show()}},{key:"getParameterByName",value:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=i.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}]),e}()},{"../config":9,"./html.class":12,"./lightbox.class":14,"./photo.class":15,"./tag-tray.class":16,imagesloaded:5,"masonry-layout":6}],12:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.HTML=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../config");i.HTML=function(){function t(){n(this,t)}return r(t,null,[{key:"galleryItemsDiv",value:function(t){var e='<div class="tagtray-gallery-items" id="tagtray-gallery-items-'+t+'">';return this.jQueryize(e)}},{key:"galleryItemDiv",value:function(t,e){var i=e>0?'style="max-height: '+e+'px; overflow-y: hidden"':"",n='<div class="tagtray-gallery-item" id="tagtray-gallery-item-'+t+'" '+i+">";return this.jQueryize(n)}},{key:"iFrameLink",value:function(t,e){var i=encodeURIComponent(document.URL),n='<a href="'+o.PHOTO_BOX_URI+"id/"+t+"/"+e+"/"+o.API_VERSION+"?url="+i+'"\n                       data-photo-id="'+t+'">';return this.jQueryize(n)}},{key:"thumbnailImg",value:function(t,e){var i='<img src="'+t+'"\n                         onerror="TagTrayCore.handleImageError(\''+e+"')\">";return this.jQueryize(i)}},{key:"thumbnailOverlay",value:function(t,e){var i="";switch(t.overlayType){case"message":i="<p>"+e.photo_message+"</p>";break;case"likes":e.like_count>0&&(i='<div class="tagtray-item-overlay-likes">\n                      <img src="https://api.tagtray.com/v3/images/icon-likes.png">\n                      <span>'+this.numberWithCommas(e.like_count)+"</span>                    \n                  </div>")}var n='<div class="tagtray-item-overlay">\n                      <h3 class="tagtray-item-overlay-title">\n                        '+t.overlayTagline+'\n                      </h3>\n                      <div class="tagtray-item-overlay-description">\n                        '+i+"\n                      </div>\n                    </div>";return this.jQueryize(n)}},{key:"socialIconOverlay",value:function(t){var e='<div class="tagtray-social-icon-overlay">\n                      <img src="'+t+'"\n                           style="width:25px; height: 25px;">\n                    </div>';return this.jQueryize(e)}},{key:"videoIconOverlay",value:function(t){var e='<div class="tagtray-video-icon-overlay"\n                         style="position:absolute; bottom:3px; right:3px; z-index:255;">\n                      <img src="'+t+'" style="width:25px; height: 25px;">\n                    </div>';return this.jQueryize(e)}},{key:"loadMoreDiv",value:function(t){var e='<div class="tagtray-load-more-block">\n                      <a class="tagtray-load-more" href="javascript:void(0)">\n                        '+t+"\n                      </a>\n                    </div>";return this.jQueryize(e)}},{key:"masonrySizer",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"grid":arguments[0],e='<div class="tagtray-'+t+'-sizer"></div>';return this.jQueryize(e)}},{key:"fileUploader",value:function(t){var e='<div class="tagtray-file-upload-success '+t.fpSuccessMessageClass+'" style="display: none">\n                             '+t.fpSuccessMessage+"\n                           </div>",i="simple"===t.fpUploadType?e:"",n="collect-info"===t.fpUploadType?"true":"false",r=i+' \n                    <div class="tagtray-file-upload-header">\n                      <span class="tagtray-file-upload-message"">'+t.fpUploadMessage+'</span>\n                      <input id="tagtray-filepicker" \n                              data-fp-apikey="AClkQs6R5TOO61Jhs3dgwz"\n                              data-fp-button-class="'+t.fpUploadButtonClass+'"\n                              data-fp-button-text="'+t.fpButtonText+'"                              \n                              data-fp-extensions=".png,.jpeg,.jpg"\n                              data-fp-store-location=\'S3\'\n                              data-fp-store-access="public"\n                              data-fp-max-size="10485760"\n                              data-fp-services="'+t.fpServices+'"\n                              data-tt-collect-info="'+n+'"\n                              data-tt-gallery-code="'+t.galleryCode+'"\n                              data-tt-on-success-block=".tagtray-file-upload-success" />\n                    </div>';return this.jQueryize(r)}},{key:"stylesheet",value:function(t,e){var i='<link rel="stylesheet" href="'+t+e+'" type="text/css" media="screen">';return this.jQueryize(i)}},{key:"script",value:function(t,e){var i='<script src="'+t+e+'"></script>';return this.jQueryize(i)}},{key:"jQueryize",value:function(t){return jQuery(t)}},{key:"numberWithCommas",value:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]),t}()},{"../config":9}],13:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.InkFile=void 0;var r=t("./tag-tray.class");i.InkFile=function o(t){n(this,o);var e=jQuery(t.target),i=e.data("ttGalleryCode"),a=e.data("ttOnSuccessBlock"),s=e.data("ttCollectInfo");a&&jQuery(a).first().show(),s?(jQuery(a+" input[name='key']").val(t.fpfile.key),jQuery(a+" input[name='gallery_code']").val(i),jQuery(a+" input[name='redirect_to']").val(document.URL)):r.TagTray.registerUpload(i,t.fpfile.key),jQuery(e[0].parentElement).hide()}},{"./tag-tray.class":16}],14:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Lightbox=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../config"),a=t("./tag-tray.class");t("../vendor/magnific-popup.js");i.Lightbox=function(){function t(){n(this,t)}return r(t,null,[{key:"init",value:function(t){t.magnificPopup({closeBtnInside:!0,delegate:"a",type:"iframe",gallery:{enabled:!0},callbacks:{beforeAppend:this.showIframeLoading,open:this.trackView},iframe:{patterns:{tagtray:{index:o.HOST,id:function(t){return t},src:"%id%"}}}})}},{key:"open",value:function(t){jQuery.magnificPopup.open({items:{src:t},type:"iframe"},0)}},{key:"showIframeLoading",value:function(){var t=0;setTimeout(function(){jQuery("iframe").length!==t&&(t=jQuery(".column-header").length,jQuery(".mfp-content").hide(),jQuery(".mfp-preloader").show())},50),this.content.find("iframe").on("load",function(){jQuery(".mfp-content").show(),jQuery(".mfp-preloader").hide()})}},{key:"trackView",value:function(){var t=jQuery.magnificPopup.instance,e=jQuery(t.currItem.el[0]).data("photo-id");a.TagTray.trackView(e)}}]),t}()},{"../config":9,"../vendor/magnific-popup.js":18,"./tag-tray.class":16}],15:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Photo=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("./tag-tray.class"),s=t("./html.class");t("../vendor/touch-swipe");i.Photo=function(){function t(e){n(this,t),r(this,e)}return o(t,[{key:"render",value:function(t){var e=this,i=s.HTML.galleryItemDiv(this.id,this.maxHeight),n=s.HTML.iFrameLink(this.id,this.galleryCode);return n.append(s.HTML.thumbnailImg(this.photo_image_url,this.id)),"none"!==t.overlayType&&n.append(s.HTML.thumbnailOverlay(t,this)),t.hideSourceIcon!==!0&&n.append(s.HTML.socialIconOverlay(this.siteLogo).hide()),this.video_link_url&&n.append(s.HTML.videoIconOverlay(this.videoLogo)),i.append(n),i.click(function(){e.onClick()}),i}},{key:"onClick",value:function(){var t=jQuery.magnificPopup.instance;setTimeout(function(){jQuery(".mfp-container").swipe({swipeLeft:function(){t.next()},swipeRight:function(){t.prev()}})},500)}}],[{key:"handleImageError",value:function(t){jQuery("#tagtray-gallery-item-"+t).remove(),jQuery("#tagtray-gallery-item-"+t).trigger("error.tt.image"),a.TagTray.reportBrokenImage(t)}}]),t}()},{"../vendor/touch-swipe":19,"./html.class":12,"./tag-tray.class":16}],16:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.TagTray=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../config");i.TagTray=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,t),r(this,e)}return o(t,[{key:"requestPhotos",value:function(t){var e=a.GALLERY_URI+["code",this.galleryCode,"page_num",t,"page_size",this.pageSize,"product_id",this.productId].join("/")+("?api_version="+a.API_VERSION);jQuery.ajax({type:"GET",url:e,async:!1,jsonpCallback:"TagTrayGallery.render",contentType:"application/json",dataType:"jsonp"})}}],[{key:"reportBrokenImage",value:function(t){jQuery.ajax({type:"GET",dataType:"jsonp",url:a.API_URI+"registerBadImage/id/"+t})}},{key:"trackView",value:function(t){jQuery.ajax({type:"GET",dataType:"jsonp",url:a.API_URI+"registerPhotoView?photo_id="+t})}},{key:"registerUpload",value:function(t,e){jQuery.ajax({type:"GET",dataType:"jsonp",url:a.API_URI+"registerInkUpload?gallery_code="+t+"&key="+e})}}]),t}()},{"../config":9}],17:[function(t,e,i){"use strict";var n=t("./lib/ink-file.class"),r=t("./lib/gallery.class"),o=t("./lib/photo.class");if("undefined"==typeof jQuery)throw new Error("jQuery is required for TagTray to operate.");if(void 0===jQuery.prototype.on)throw new Error("jQuery version 1.7 is required for TagTray to operate.");var a=[];window.TagTrayCore={serverResponse:function(t){a[t.gallery_code].renderPage(t)},inkFileUploaded:function(t){new n.InkFile(t)},handleImageError:function(t,e){o.Photo.handleImageError(t,e)}},jQuery(document).ready(function(){jQuery(".tagtray-gallery").each(function(){var t=jQuery(this).data("gallery-code");a[t]=new r.Gallery(this),a[t].requestPage(0),jQuery(this).trigger("show.tt.gallery")})})},{"./lib/gallery.class":11,"./lib/ink-file.class":13,"./lib/photo.class":15}],18:[function(t,e,i){"use strict";var n,r,o,a,s,l,u="Close",c="BeforeClose",d="AfterClose",p="BeforeAppend",h="MarkupParse",f="Open",g="Change",m="mfp",y="."+m,v="mfp-ready",b="mfp-removing",w="mfp-prevent-close",T=function(){},I=!!window.jQuery,E=jQuery(window),x=function(t,e){n.ev.on(m+t+y,e)},S=function(t,e,i,n){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),n?e&&e.appendChild(r):(r=jQuery(r),e&&r.appendTo(e)),r},_=function(t,e){n.ev.triggerHandler(m+t,e),n.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),n.st.callbacks[t]&&n.st.callbacks[t].apply(n,jQuery.isArray(e)?e:[e]))},C=function(t){return t===l&&n.currTemplate.closeBtn||(n.currTemplate.closeBtn=jQuery(n.st.closeMarkup.replace("%title%",n.st.tClose)),l=t),n.currTemplate.closeBtn},k=function(){jQuery.magnificPopup.instance||(n=new T,n.init(),jQuery.magnificPopup.instance=n)},j=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};T.prototype={constructor:T,init:function(){var t=navigator.appVersion;n.isLowIE=n.isIE8=document.all&&!document.addEventListener,n.isAndroid=/android/gi.test(t),n.isIOS=/iphone|ipad|ipod/gi.test(t),n.supportsTransition=j(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=jQuery(document),n.popupsCache={}},open:function(t){var e;if(t.isObj===!1){n.items=t.items.toArray(),n.index=0;var i,r=t.items;for(e=0;e<r.length;e++)if(i=r[e],i.parsed&&(i=i.el[0]),i===t.el[0]){n.index=e;break}}else n.items=jQuery.isArray(t.items)?t.items:[t.items],n.index=t.index||0;if(n.isOpen)return void n.updateItemHTML();n.types=[],s="",t.mainEl&&t.mainEl.length?n.ev=t.mainEl.eq(0):n.ev=o,t.key?(n.popupsCache[t.key]||(n.popupsCache[t.key]={}),n.currTemplate=n.popupsCache[t.key]):n.currTemplate={},n.st=jQuery.extend(!0,{},jQuery.magnificPopup.defaults,t),n.fixedContentPos="auto"===n.st.fixedContentPos?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=S("bg").on("click"+y,function(){n.close()}),n.wrap=S("wrap").attr("tabindex",-1).on("click"+y,function(t){n._checkIfClose(t.target)&&n.close()}),n.container=S("container",n.wrap)),n.contentContainer=S("content"),n.st.preloader&&(n.preloader=S("preloader",n.container,n.st.tLoading));var a=jQuery.magnificPopup.modules;for(e=0;e<a.length;e++){var l=a[e];l=l.charAt(0).toUpperCase()+l.slice(1),n["init"+l].call(n)}_("BeforeOpen"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(h,function(t,e,i,n){i.close_replaceWith=C(n.type)}),s+=" mfp-close-btn-in"):n.wrap.append(C())),n.st.alignTop&&(s+=" mfp-align-top"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:"hidden",overflowY:n.st.overflowY}):n.wrap.css({top:E.scrollTop(),position:"absolute"}),(n.st.fixedBgPos===!1||"auto"===n.st.fixedBgPos&&!n.fixedContentPos)&&n.bgOverlay.css({height:o.height(),position:"absolute"}),n.st.enableEscapeKey&&o.on("keyup"+y,function(t){27===t.keyCode&&n.close()}),E.on("resize"+y,function(){n.updateSize()}),n.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&n.wrap.addClass(s);var u=n.wH=E.height(),c={};if(n.fixedContentPos&&n._hasScrollBar(u)){var d=n._getScrollbarSize();d&&(c.marginRight=d)}n.fixedContentPos&&(n.isIE7?jQuery("body, html").css("overflow","hidden"):c.overflow="hidden");var p=n.st.mainClass;return n.isIE7&&(p+=" mfp-ie7"),p&&n._addClassToMFP(p),n.updateItemHTML(),_("BuildControls"),jQuery("html").css(c),n.bgOverlay.add(n.wrap).prependTo(n.st.prependTo||jQuery(document.body)),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(v),n._setFocus()):n.bgOverlay.addClass(v),o.on("focusin"+y,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(u),_(f),t},close:function(){n.isOpen&&(_(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(b),setTimeout(function(){n._close()},n.st.removalDelay)):n._close())},_close:function(){_(u);var t=b+" "+v+" ";if(n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(t+=n.st.mainClass+" "),n._removeClassFromMFP(t),n.fixedContentPos){var e={marginRight:""};n.isIE7?jQuery("body, html").css("overflow",""):e.overflow="",jQuery("html").css(e)}o.off("keyup"+y+" focusin"+y),n.ev.off(y),n.wrap.attr("class","mfp-wrap").removeAttr("style"),n.bgOverlay.attr("class","mfp-bg"),n.container.attr("class","mfp-container"),!n.st.showCloseBtn||n.st.closeBtnInside&&n.currTemplate[n.currItem.type]!==!0||n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n.st.autoFocusLast&&n._lastFocusedEl&&jQuery(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,_(d)},updateSize:function(t){if(n.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*e;n.wrap.css("height",i),n.wH=i}else n.wH=t||E.height();n.fixedContentPos||n.wrap.css("height",n.wH),_("Resize")},updateItemHTML:function(){var t=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),t.parsed||(t=n.parseEl(n.index));var e=t.type;if(_("BeforeChange",[n.currItem?n.currItem.type:"",e]),n.currItem=t,!n.currTemplate[e]){var i=n.st[e]?n.st[e].markup:!1;_("FirstMarkupParse",i),i?n.currTemplate[e]=jQuery(i):n.currTemplate[e]=!0}a&&a!==t.type&&n.container.removeClass("mfp-"+a+"-holder");var r=n["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,n.currTemplate[e]);n.appendContent(r,e),t.preloaded=!0,_(g,t),a=t.type,n.container.prepend(n.contentContainer),_("AfterChange")},appendContent:function(t,e){n.content=t,t?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[e]===!0?n.content.find(".mfp-close").length||n.content.append(C()):n.content=t:n.content="",_(p),n.container.addClass("mfp-"+e+"-holder"),n.contentContainer.append(n.content)},parseEl:function(t){var e,i=n.items[t];if(i.tagName?i={el:jQuery(i)}:(e=i.type,i={data:i,src:i.src}),i.el){for(var r=n.types,o=0;o<r.length;o++)if(i.el.hasClass("mfp-"+r[o])){e=r[o];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||n.st.type||"inline",i.index=t,i.parsed=!0,n.items[t]=i,_("ElementParse",i),n.items[t]},addGroup:function(t,e){var i=function(i){i.mfpEl=this,n._openClick(i,t,e)};e||(e={});var r="click.magnificPopup";e.mainEl=t,e.items?(e.isObj=!0,t.off(r).on(r,i)):(e.isObj=!1,e.delegate?t.off(r).on(r,e.delegate,i):(e.items=t,t.off(r).on(r,i)))},_openClick:function(t,e,i){var r=void 0!==i.midClick?i.midClick:jQuery.magnificPopup.defaults.midClick;if(r||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var o=void 0!==i.disableOn?i.disableOn:jQuery.magnificPopup.defaults.disableOn;if(o)if(jQuery.isFunction(o)){if(!o.call(n))return!0}else if(E.width()<o)return!0;t.type&&(t.preventDefault(),n.isOpen&&t.stopPropagation()),i.el=jQuery(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),n.open(i)}},updateStatus:function(t,e){if(n.preloader){r!==t&&n.container.removeClass("mfp-s-"+r),e||"loading"!==t||(e=n.st.tLoading);var i={status:t,text:e};_("UpdateStatus",i),t=i.status,e=i.text,n.preloader.html(e),n.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),n.container.addClass("mfp-s-"+t),r=t}},_checkIfClose:function(t){if(!jQuery(t).hasClass(w)){var e=n.st.closeOnContentClick,i=n.st.closeOnBgClick;if(e&&i)return!0;if(!n.content||jQuery(t).hasClass("mfp-close")||n.preloader&&t===n.preloader[0])return!0;if(t===n.content[0]||jQuery.contains(n.content[0],t)){if(e)return!0}else if(i&&jQuery.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){n.bgOverlay.addClass(t),n.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),n.wrap.removeClass(t)},_hasScrollBar:function(t){return(n.isIE7?o.height():document.body.scrollHeight)>(t||E.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(t){return t.target===n.wrap[0]||jQuery.contains(n.wrap[0],t.target)?void 0:(n._setFocus(),!1)},_parseMarkup:function(t,e,i){var n;i.data&&(e=jQuery.extend(i.data,e)),_(h,[t,e,i]),jQuery.each(e,function(e,i){if(void 0===i||i===!1)return!0;if(n=e.split("_"),n.length>1){var r=t.find(y+"-"+n[0]);if(r.length>0){var o=n[1];"replaceWith"===o?r[0]!==i[0]&&r.replaceWith(i):"img"===o?r.is("img")?r.attr("src",i):r.replaceWith(jQuery("<img>").attr("src",i).attr("class",r.attr("class"))):r.attr(n[1],i)}}else t.find(y+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===n.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),n.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n.scrollbarSize}},jQuery.magnificPopup={instance:null,proto:T.prototype,modules:[],open:function(t,e){return k(),t=t?jQuery.extend(!0,{},t):{},t.isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return jQuery.magnificPopup.instance&&jQuery.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(jQuery.magnificPopup.defaults[t]=e.options),jQuery.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},jQuery.fn.magnificPopup=function(t){k();var e=jQuery(this);if("string"==typeof t)if("open"===t){var i,r=I?e.data("magnificPopup"):e[0].magnificPopup,o=parseInt(arguments[1],10)||0;r.items?i=r.items[o]:(i=e,r.delegate&&(i=i.find(r.delegate)),i=i.eq(o)),n._openClick({mfpEl:i},e,r)}else n.isOpen&&n[t].apply(n,Array.prototype.slice.call(arguments,1));else t=jQuery.extend(!0,{},t),I?e.data("magnificPopup",t):e[0].magnificPopup=t,n.addGroup(e,t);return e};var O,P,L,z="inline",M=function(){L&&(P.after(L.addClass(O)).detach(),L=null)};jQuery.magnificPopup.registerModule(z,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){n.types.push(z),x(u+"."+z,function(){M()})},getInline:function(t,e){if(M(),t.src){var i=n.st.inline,r=jQuery(t.src);if(r.length){var o=r[0].parentNode;o&&o.tagName&&(P||(O=i.hiddenClass,P=S(O),O="mfp-"+O),L=r.after(P).detach().removeClass(O)),n.updateStatus("ready")}else n.updateStatus("error",i.tNotFound),r=jQuery("<div>");return t.inlineElement=r,r}return n.updateStatus("ready"),n._parseMarkup(e,{},t),e}}});var Q,R="ajax",B=function(){Q&&jQuery(document.body).removeClass(Q)},W=function(){B(),n.req&&n.req.abort()};jQuery.magnificPopup.registerModule(R,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){n.types.push(R),Q=n.st.ajax.cursor,x(u+"."+R,W),x("BeforeChange."+R,W)},getAjax:function(t){Q&&jQuery(document.body).addClass(Q),n.updateStatus("loading");var e=jQuery.extend({url:t.src,success:function(e,i,r){var o={data:e,xhr:r};_("ParseAjax",o),n.appendContent(jQuery(o.data),R),t.finished=!0,B(),n._setFocus(),setTimeout(function(){n.wrap.addClass(v)},16),n.updateStatus("ready"),_("AjaxContentAdded")},error:function(){B(),t.finished=t.loadError=!0,n.updateStatus("error",n.st.ajax.tError.replace("%url%",t.src))}},n.st.ajax.settings);return n.req=jQuery.ajax(e),""}}});var H,A=function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=n.st.image.titleSrc;if(e){if(jQuery.isFunction(e))return e.call(n,t);if(t.el)return t.el.attr(e)||""}return""};jQuery.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=n.st.image,e=".image";n.types.push("image"),x(f+e,function(){"image"===n.currItem.type&&t.cursor&&jQuery(document.body).addClass(t.cursor)}),x(u+e,function(){t.cursor&&jQuery(document.body).removeClass(t.cursor),E.off("resize"+y)}),x("Resize"+e,n.resizeImage),n.isLowIE&&x("AfterChange",n.resizeImage)},resizeImage:function(){var t=n.currItem;if(t&&t.img&&n.st.image.verticalFit){var e=0;n.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",n.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,H&&clearInterval(H),t.isCheckingImgSize=!1,_("ImageHasSize",t),t.imgHidden&&(n.content&&n.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var e=0,i=t.img[0],r=function o(r){H&&clearInterval(H),H=setInterval(function(){return i.naturalWidth>0?void n._onImageHasSize(t):(e>200&&clearInterval(H),e++,void(3===e?o(10):40===e?o(50):100===e&&o(500)))},r)};r(1)},getImage:function(t,e){var i=0,r=function u(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===n.currItem&&(n._onImageHasSize(t),n.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,_("ImageLoadComplete")):(i++,200>i?setTimeout(u,100):o()))},o=function(){t&&(t.img.off(".mfploader"),t===n.currItem&&(n._onImageHasSize(t),n.updateStatus("error",a.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},a=n.st.image,s=e.find(".mfp-img");if(s.length){var l=document.createElement("img");l.className="mfp-img",t.el&&t.el.find("img").length&&(l.alt=t.el.find("img").attr("alt")),t.img=jQuery(l).on("load.mfploader",r).on("error.mfploader",o),l.src=t.src,s.is("img")&&(t.img=t.img.clone()),l=t.img[0],l.naturalWidth>0?t.hasSize=!0:l.width||(t.hasSize=!1)}return n._parseMarkup(e,{title:A(t),img_replaceWith:t.img},t),n.resizeImage(),t.hasSize?(H&&clearInterval(H),t.loadError?(e.addClass("mfp-loading"),n.updateStatus("error",a.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),n.updateStatus("ready")),e):(n.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),n.findImageSize(t)),e)}}});var D,U=function(){return void 0===D&&(D=void 0!==document.createElement("p").style.MozTransform),D};jQuery.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,e=n.st.zoom,i=".zoom";if(e.enabled&&n.supportsTransition){var r,o,a=e.duration,s=function(t){var i=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+e.duration/1e3+"s "+e.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=n,i.css(r),i},l=function(){n.content.css("visibility","visible")};x("BuildControls"+i,function(){if(n._allowZoom()){if(clearTimeout(r),n.content.css("visibility","hidden"),t=n._getItemToZoom(),!t)return void l();o=s(t),o.css(n._getOffset()),n.wrap.append(o),r=setTimeout(function(){o.css(n._getOffset(!0)),r=setTimeout(function(){l(),setTimeout(function(){o.remove(),t=o=null,_("ZoomAnimationEnded")},16)},a)},16)}}),x(c+i,function(){if(n._allowZoom()){if(clearTimeout(r),n.st.removalDelay=a,!t){if(t=n._getItemToZoom(),!t)return;o=s(t)}o.css(n._getOffset(!0)),n.wrap.append(o),n.content.css("visibility","hidden"),setTimeout(function(){o.css(n._getOffset())},16)}}),x(u+i,function(){n._allowZoom()&&(l(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===n.currItem.type},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(t){var e;e=t?n.currItem.img:n.st.zoom.opener(n.currItem.el||n.currItem);var i=e.offset(),r=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10);i.top-=jQuery(window).scrollTop()-r;var a={width:e.width(),height:(I?e.innerHeight():e[0].offsetHeight)-o-r};return U()?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});var F="iframe",N="//about:blank",q=function(t){if(n.currTemplate[F]){var e=n.currTemplate[F].find("iframe");e.length&&(t||(e[0].src=N),n.isIE8&&e.css("display",t?"block":"none"))}};jQuery.magnificPopup.registerModule(F,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){n.types.push(F),x("BeforeChange",function(t,e,i){e!==i&&(e===F?q():i===F&&q(!0))}),x(u+"."+F,function(){q()})},getIframe:function(t,e){var i=t.src,r=n.st.iframe;jQuery.each(r.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var o={};return r.srcAction&&(o[r.srcAction]=i),n._parseMarkup(e,o,t),n.updateStatus("ready"),e}}});var G=function(t){var e=n.items.length;return t>e-1?t-e:0>t?e+t:t},$=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};jQuery.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=n.st.gallery,e=".mfp-gallery";return n.direction=!0,t&&t.enabled?(s+=" mfp-gallery",x(f+e,function(){t.navigateByImgClick&&n.wrap.on("click"+e,".mfp-img",function(){return n.items.length>1?(n.next(),!1):void 0}),o.on("keydown"+e,function(t){37===t.keyCode?n.prev():39===t.keyCode&&n.next()})}),x("UpdateStatus"+e,function(t,e){e.text&&(e.text=$(e.text,n.currItem.index,n.items.length))}),x(h+e,function(e,i,r,o){var a=n.items.length;r.counter=a>1?$(t.tCounter,o.index,a):""}),x("BuildControls"+e,function(){if(n.items.length>1&&t.arrows&&!n.arrowLeft){var e=t.arrowMarkup,i=n.arrowLeft=jQuery(e.replace(/%title%/gi,t.tPrev).replace(/%dir%/gi,"left")).addClass(w),r=n.arrowRight=jQuery(e.replace(/%title%/gi,t.tNext).replace(/%dir%/gi,"right")).addClass(w);i.click(function(){n.prev()}),r.click(function(){n.next()}),n.container.append(i.add(r))}}),x(g+e,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),void x(u+e,function(){o.off(e),n.wrap.off("click"+e),n.arrowRight=n.arrowLeft=null})):!1},next:function(){n.direction=!0,n.index=G(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=G(n.index-1),n.updateItemHTML()},goTo:function(t){n.direction=t>=n.index,n.index=t,n.updateItemHTML()},preloadNearbyImages:function(){var t,e=n.st.gallery.preload,i=Math.min(e[0],n.items.length),r=Math.min(e[1],n.items.length);for(t=1;t<=(n.direction?r:i);t++)n._preloadItem(n.index+t);for(t=1;t<=(n.direction?i:r);t++)n._preloadItem(n.index-t)},_preloadItem:function(t){if(t=G(t),!n.items[t].preloaded){var e=n.items[t];e.parsed||(e=n.parseEl(t)),_("LazyLoad",e),"image"===e.type&&(e.img=jQuery('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){
  e.hasSize=!0,e.loadError=!0,_("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var Y="retina";jQuery.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=n.st.retina,e=t.ratio;e=isNaN(e)?e():e,e>1&&(x("ImageHasSize."+Y,function(t,i){i.img.css({"max-width":i.img[0].naturalWidth/e,width:"100%"})}),x("ElementParse."+Y,function(i,n){n.src=t.replaceSrc(n,e)}))}}}})},{}],19:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){t(jQuery)}(function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=d),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),r=n.data(j);r||(r=new i(this,e),n.data(j,r))})}function i(e,i){function r(e){if(!(ct()||t(e.target).closest(i.excludedElements,qt).length>0)){var n,r=e.originalEvent?e.originalEvent:e,o=r.touches,a=o?o[0]:r;return Gt=I,o?$t=o.length:i.preventDefaultEvents!==!1&&e.preventDefault(),Qt=0,Rt=null,Bt=null,Ft=null,Wt=0,Ht=0,At=0,Dt=1,Ut=0,Nt=yt(),lt(),pt(0,a),!o||$t===i.fingers||i.fingers===w||N()?(Vt=_t(),2==$t&&(pt(1,o[1]),Ht=At=wt(Yt[0].start,Yt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=R(r,Gt))):n=!1,n===!1?(Gt=S,R(r,Gt),n):(i.hold&&(ee=setTimeout(t.proxy(function(){qt.trigger("hold",[r.target]),i.hold&&(n=i.hold.call(qt,r,r.target))},this),i.longTapThreshold)),dt(!0),null)}}function O(t){var e=t.originalEvent?t.originalEvent:t;if(Gt!==x&&Gt!==S&&!ut()){var n,r=e.touches,o=r?r[0]:e,a=ht(o);if(Zt=_t(),r&&($t=r.length),i.hold&&clearTimeout(ee),Gt=E,2==$t&&(0==Ht?(pt(1,r[1]),Ht=At=wt(Yt[0].start,Yt[1].start)):(ht(r[1]),At=wt(Yt[0].end,Yt[1].end),Ft=It(Yt[0].end,Yt[1].end)),Dt=Tt(Ht,At),Ut=Math.abs(Ht-At)),$t===i.fingers||i.fingers===w||!r||N()){if(Rt=St(a.start,a.end),Bt=St(a.last,a.end),U(t,Bt),Qt=Et(a.start,a.end),Wt=bt(),gt(Rt,Qt),n=R(e,Gt),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var s=!0;if(i.triggerOnTouchLeave){var l=Ct(this);s=kt(a.end,l)}!i.triggerOnTouchEnd&&s?Gt=Q(E):i.triggerOnTouchLeave&&!s&&(Gt=Q(x)),Gt!=S&&Gt!=x||R(e,Gt)}}else Gt=S,R(e,Gt);n===!1&&(Gt=S,R(e,Gt))}}function P(t){var e=t.originalEvent?t.originalEvent:t,n=e.touches;if(n){if(n.length&&!ut())return st(e),!0;if(n.length&&ut())return!0}return ut()&&($t=Kt),Zt=_t(),Wt=bt(),H()||!W()?(Gt=S,R(e,Gt)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Gt===E?(i.preventDefaultEvents!==!1&&t.preventDefault(),Gt=x,R(e,Gt)):!i.triggerOnTouchEnd&&X()?(Gt=x,B(e,Gt,g)):Gt===E&&(Gt=S,R(e,Gt)),dt(!1),null}function L(){$t=0,Zt=0,Vt=0,Ht=0,At=0,Dt=1,lt(),dt(!1)}function z(t){var e=t.originalEvent?t.originalEvent:t;i.triggerOnTouchLeave&&(Gt=Q(x),R(e,Gt))}function M(){qt.unbind(Ot,r),qt.unbind(Mt,L),qt.unbind(Pt,O),qt.unbind(Lt,P),zt&&qt.unbind(zt,z),dt(!1)}function Q(t){var e=t,n=D(),r=W(),o=H();return!n||o?e=S:!r||t!=E||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&t==x&&i.triggerOnTouchLeave&&(e=S):e=x,e}function R(t,e){var i,n=t.touches;return(Y()||$())&&(i=B(t,e,h)),(q()||N())&&i!==!1&&(i=B(t,e,f)),ot()&&i!==!1?i=B(t,e,m):at()&&i!==!1?i=B(t,e,y):rt()&&i!==!1&&(i=B(t,e,g)),e===S&&($()&&(i=B(t,e,h)),N()&&(i=B(t,e,f)),L(t)),e===x&&(n?n.length||L(t):L(t)),i}function B(e,n,r){var d;if(r==h){if(qt.trigger("swipeStatus",[n,Rt||null,Qt||0,Wt||0,$t,Yt,Bt]),i.swipeStatus&&(d=i.swipeStatus.call(qt,e,n,Rt||null,Qt||0,Wt||0,$t,Yt,Bt),d===!1))return!1;if(n==x&&G()){if(clearTimeout(te),clearTimeout(ee),qt.trigger("swipe",[Rt,Qt,Wt,$t,Yt,Bt]),i.swipe&&(d=i.swipe.call(qt,e,Rt,Qt,Wt,$t,Yt,Bt),d===!1))return!1;switch(Rt){case o:qt.trigger("swipeLeft",[Rt,Qt,Wt,$t,Yt,Bt]),i.swipeLeft&&(d=i.swipeLeft.call(qt,e,Rt,Qt,Wt,$t,Yt,Bt));break;case a:qt.trigger("swipeRight",[Rt,Qt,Wt,$t,Yt,Bt]),i.swipeRight&&(d=i.swipeRight.call(qt,e,Rt,Qt,Wt,$t,Yt,Bt));break;case s:qt.trigger("swipeUp",[Rt,Qt,Wt,$t,Yt,Bt]),i.swipeUp&&(d=i.swipeUp.call(qt,e,Rt,Qt,Wt,$t,Yt,Bt));break;case l:qt.trigger("swipeDown",[Rt,Qt,Wt,$t,Yt,Bt]),i.swipeDown&&(d=i.swipeDown.call(qt,e,Rt,Qt,Wt,$t,Yt,Bt))}}}if(r==f){if(qt.trigger("pinchStatus",[n,Ft||null,Ut||0,Wt||0,$t,Dt,Yt]),i.pinchStatus&&(d=i.pinchStatus.call(qt,e,n,Ft||null,Ut||0,Wt||0,$t,Dt,Yt),d===!1))return!1;if(n==x&&F())switch(Ft){case u:qt.trigger("pinchIn",[Ft||null,Ut||0,Wt||0,$t,Dt,Yt]),i.pinchIn&&(d=i.pinchIn.call(qt,e,Ft||null,Ut||0,Wt||0,$t,Dt,Yt));break;case c:qt.trigger("pinchOut",[Ft||null,Ut||0,Wt||0,$t,Dt,Yt]),i.pinchOut&&(d=i.pinchOut.call(qt,e,Ft||null,Ut||0,Wt||0,$t,Dt,Yt))}}return r==g?n!==S&&n!==x||(clearTimeout(te),clearTimeout(ee),K()&&!et()?(Jt=_t(),te=setTimeout(t.proxy(function(){Jt=null,qt.trigger("tap",[e.target]),i.tap&&(d=i.tap.call(qt,e,e.target))},this),i.doubleTapThreshold)):(Jt=null,qt.trigger("tap",[e.target]),i.tap&&(d=i.tap.call(qt,e,e.target)))):r==m?n!==S&&n!==x||(clearTimeout(te),clearTimeout(ee),Jt=null,qt.trigger("doubletap",[e.target]),i.doubleTap&&(d=i.doubleTap.call(qt,e,e.target))):r==y&&(n!==S&&n!==x||(clearTimeout(te),Jt=null,qt.trigger("longtap",[e.target]),i.longTap&&(d=i.longTap.call(qt,e,e.target)))),d}function W(){var t=!0;return null!==i.threshold&&(t=Qt>=i.threshold),t}function H(){var t=!1;return null!==i.cancelThreshold&&null!==Rt&&(t=mt(Rt)-Qt>=i.cancelThreshold),t}function A(){return null!==i.pinchThreshold?Ut>=i.pinchThreshold:!0}function D(){var t;return t=i.maxTimeThreshold?!(Wt>=i.maxTimeThreshold):!0}function U(t,e){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===d)t.preventDefault();else{var n=i.allowPageScroll===p;switch(e){case o:(i.swipeLeft&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault();break;case a:(i.swipeRight&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault();break;case s:(i.swipeUp&&n||!n&&i.allowPageScroll!=b)&&t.preventDefault();break;case l:(i.swipeDown&&n||!n&&i.allowPageScroll!=b)&&t.preventDefault()}}}function F(){var t=V(),e=Z(),i=A();return t&&e&&i}function N(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function q(){return!(!F()||!N())}function G(){var t=D(),e=W(),i=V(),n=Z(),r=H(),o=!r&&n&&i&&e&&t;return o}function $(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function Y(){return!(!G()||!$())}function V(){return $t===i.fingers||i.fingers===w||!_}function Z(){return 0!==Yt[0].end.x}function X(){return!!i.tap}function K(){return!!i.doubleTap}function J(){return!!i.longTap}function tt(){if(null==Jt)return!1;var t=_t();return K()&&t-Jt<=i.doubleTapThreshold}function et(){return tt()}function it(){return(1===$t||!_)&&(isNaN(Qt)||Qt<i.threshold)}function nt(){return Wt>i.longTapThreshold&&T>Qt}function rt(){return!(!it()||!X())}function ot(){return!(!tt()||!K())}function at(){return!(!nt()||!J())}function st(t){Xt=_t(),Kt=t.touches.length+1}function lt(){Xt=0,Kt=0}function ut(){var t=!1;if(Xt){var e=_t()-Xt;e<=i.fingerReleaseThreshold&&(t=!0)}return t}function ct(){return!(qt.data(j+"_intouch")!==!0)}function dt(t){qt&&(t===!0?(qt.bind(Pt,O),qt.bind(Lt,P),zt&&qt.bind(zt,z)):(qt.unbind(Pt,O,!1),qt.unbind(Lt,P,!1),zt&&qt.unbind(zt,z,!1)),qt.data(j+"_intouch",t===!0))}function pt(t,e){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=e.pageX||e.clientX,i.start.y=i.last.y=i.end.y=e.pageY||e.clientY,Yt[t]=i,i}function ht(t){var e=void 0!==t.identifier?t.identifier:0,i=ft(e);return null===i&&(i=pt(e,t)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ft(t){return Yt[t]||null}function gt(t,e){e=Math.max(e,mt(t)),Nt[t].distance=e}function mt(t){return Nt[t]?Nt[t].distance:void 0}function yt(){var t={};return t[o]=vt(o),t[a]=vt(a),t[s]=vt(s),t[l]=vt(l),t}function vt(t){return{direction:t,distance:0}}function bt(){return Zt-Vt}function wt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function Tt(t,e){var i=e/t*1;return i.toFixed(2)}function It(){return 1>Dt?c:u}function Et(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function xt(t,e){var i=t.x-e.x,n=e.y-t.y,r=Math.atan2(n,i),o=Math.round(180*r/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function St(t,e){var i=xt(t,e);return 45>=i&&i>=0?o:360>=i&&i>=315?o:i>=135&&225>=i?a:i>45&&135>i?l:s}function _t(){var t=new Date;return t.getTime()}function Ct(e){e=t(e);var i=e.offset(),n={left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()};return n}function kt(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}i=t.extend({},i);var jt=_||k||!i.fallbackToMouseEvents,Ot=jt?k?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Pt=jt?k?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",Lt=jt?k?C?"MSPointerUp":"pointerup":"touchend":"mouseup",zt=jt?k?"mouseleave":null:"mouseleave",Mt=k?C?"MSPointerCancel":"pointercancel":"touchcancel",Qt=0,Rt=null,Bt=null,Wt=0,Ht=0,At=0,Dt=1,Ut=0,Ft=0,Nt=null,qt=t(e),Gt="start",$t=0,Yt={},Vt=0,Zt=0,Xt=0,Kt=0,Jt=0,te=null,ee=null;try{qt.bind(Ot,r),qt.bind(Mt,L)}catch(ie){t.error("events not supported "+Ot+","+Mt+" on jQuery.swipe")}this.enable=function(){return qt.bind(Ot,r),qt.bind(Mt,L),qt},this.disable=function(){return M(),qt},this.destroy=function(){M(),qt.data(j,null),qt=null},this.option=function(e,r){if("object"===("undefined"==typeof e?"undefined":n(e)))i=t.extend(i,e);else if(void 0!==i[e]){if(void 0===r)return i[e];i[e]=r}else{if(!e)return i;t.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var r="1.6.15",o="left",a="right",s="up",l="down",u="in",c="out",d="none",p="auto",h="swipe",f="pinch",g="tap",m="doubletap",y="longtap",v="horizontal",b="vertical",w="all",T=10,I="start",E="move",x="end",S="cancel",_="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!_,k=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!_,j="TouchSwipe",O={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};t.fn.swipe=function(i){var r=t(this),o=r.data(j);if(o&&"string"==typeof i){if(o[i])return o[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(o&&"object"===("undefined"==typeof i?"undefined":n(i)))o.option.apply(this,arguments);else if(!(o||"object"!==("undefined"==typeof i?"undefined":n(i))&&i))return e.apply(this,arguments);return r},t.fn.swipe.version=r,t.fn.swipe.defaults=O,t.fn.swipe.phases={PHASE_START:I,PHASE_MOVE:E,PHASE_END:x,PHASE_CANCEL:S},t.fn.swipe.directions={LEFT:o,RIGHT:a,UP:s,DOWN:l,IN:u,OUT:c},t.fn.swipe.pageScroll={NONE:d,HORIZONTAL:v,VERTICAL:b,AUTO:p},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}})},{}]},{},[17]);
//# sourceMappingURL=maps/tagtray.js.map
